var ot=Object.defineProperty;var lt=(t,e,n)=>e in t?ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var he=(t,e,n)=>(lt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function O(){}function ve(t,e){for(const n in e)t[n]=e[n];return t}function Ve(t){return t()}function je(){return Object.create(null)}function Q(t){t.forEach(Ve)}function fe(t){return typeof t=="function"}function N(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function it(t){return Object.keys(t).length===0}function Ge(t,...e){if(t==null){for(const r of e)r(void 0);return O}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function He(t,e,n){t.$$.on_destroy.push(Ge(e,n))}function ke(t,e,n,r){if(t){const s=ze(t,e,n,r);return t[0](s)}}function ze(t,e,n,r){return t[1]&&r?ve(n.ctx.slice(),t[1](r(e))):n.ctx}function Ee(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],u=Math.max(e.dirty.length,s.length);for(let l=0;l<u;l+=1)o[l]=e.dirty[l]|s[l];return o}return e.dirty|s}return e.dirty}function Se(t,e,n,r,s,o){if(s){const u=ze(e,n,r,o);t.p(u,s)}}function Ae(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function d(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function Ye(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function q(t){return document.createTextNode(t)}function k(){return q(" ")}function ce(){return q("")}function Z(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function ut(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function at(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.data!==e&&(t.data=e)}function ft(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function le(t,e){return new t(e)}let re;function ne(t){re=t}function de(){if(!re)throw new Error("Function called outside component initialization");return re}function ct(t){de().$$.on_mount.push(t)}function dt(t){de().$$.after_update.push(t)}function mt(t){de().$$.on_destroy.push(t)}function pt(){const t=de();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=ft(e,n,{cancelable:r});return s.slice().forEach(u=>{u.call(t,o)}),!o.defaultPrevented}return!0}}function Le(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const J=[],Te=[];let X=[];const Be=[],Je=Promise.resolve();let _e=!1;function We(){_e||(_e=!0,Je.then(Qe))}function Xe(){return We(),Je}function be(t){X.push(t)}const ge=new Set;let z=0;function Qe(){if(z!==0)return;const t=re;do{try{for(;z<J.length;){const e=J[z];z++,ne(e),ht(e.$$)}}catch(e){throw J.length=0,z=0,e}for(ne(null),J.length=0,z=0;Te.length;)Te.pop()();for(let e=0;e<X.length;e+=1){const n=X[e];ge.has(n)||(ge.add(n),n())}X.length=0}while(J.length);for(;Be.length;)Be.pop()();_e=!1,ge.clear(),ne(t)}function ht(t){if(t.fragment!==null){t.update(),Q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(be)}}function gt(t){const e=[],n=[];X.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),X=e}const oe=new Set;let V;function me(){V={r:0,c:[],p:V}}function pe(){V.r||Q(V.c),V=V.p}function w(t,e){t&&t.i&&(oe.delete(t),t.i(e))}function y(t,e,n,r){if(t&&t.o){if(oe.has(t))return;oe.add(t),V.c.push(()=>{oe.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ie(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ue(t,e){const n={},r={},s={$$scope:1};let o=t.length;for(;o--;){const u=t[o],l=e[o];if(l){for(const i in u)i in l||(r[i]=1);for(const i in l)s[i]||(n[i]=l[i],s[i]=1);t[o]=l}else for(const i in u)s[i]=1}for(const u in r)u in n||(n[u]=void 0);return n}function ae(t){return typeof t=="object"&&t!==null?t:{}}function A(t){t&&t.c()}function E(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),be(()=>{const o=t.$$.on_mount.map(Ve).filter(fe);t.$$.on_destroy?t.$$.on_destroy.push(...o):Q(o),t.$$.on_mount=[]}),s.forEach(be)}function S(t,e){const n=t.$$;n.fragment!==null&&(gt(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function _t(t,e){t.$$.dirty[0]===-1&&(J.push(t),We(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(t,e,n,r,s,o,u=null,l=[-1]){const i=re;ne(t);const a=t.$$={fragment:null,ctx:[],props:o,update:O,not_equal:s,bound:je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:je(),dirty:l,skip_bound:!1,root:e.target||i.$$.root};u&&u(a.root);let c=!1;if(a.ctx=n?n(t,e.props||{},(f,p,...C)=>{const x=C.length?C[0]:p;return a.ctx&&s(a.ctx[f],a.ctx[f]=x)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](x),c&&_t(t,f)),p}):[],a.update(),c=!0,Q(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const f=at(e.target);a.fragment&&a.fragment.l(f),f.forEach($)}else a.fragment&&a.fragment.c();e.intro&&w(t.$$.fragment),E(t,e.target,e.anchor),Qe()}ne(i)}class P{constructor(){he(this,"$$");he(this,"$$set")}$destroy(){S(this,1),this.$destroy=O}$on(e,n){if(!fe(n))return O;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!it(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const bt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bt);const Y=[];function Ze(t,e){return{subscribe:Ce(t,e).subscribe}}function Ce(t,e=O){let n;const r=new Set;function s(l){if(N(t,l)&&(t=l,n)){const i=!Y.length;for(const a of r)a[1](),Y.push(a,t);if(i){for(let a=0;a<Y.length;a+=2)Y[a][0](Y[a+1]);Y.length=0}}}function o(l){s(l(t))}function u(l,i=O){const a=[l,i];return r.add(a),r.size===1&&(n=e(s,o)||O),l(t),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:u}}function et(t,e,n){const r=!Array.isArray(t),s=r?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return Ze(n,(u,l)=>{let i=!1;const a=[];let c=0,f=O;const p=()=>{if(c)return;f();const x=e(r?a[0]:a,u,l);o?u(x):f=fe(x)?x:O},C=s.map((x,L)=>Ge(x,T=>{a[L]=T,c&=~(1<<L),i&&p()},()=>{c|=1<<L}));return i=!0,p(),function(){Q(C),f(),i=!1}})}function wt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,o,u=[],l="",i=t.split("/");for(i[0]||i.shift();s=i.shift();)n=s[0],n==="*"?(u.push("wild"),l+="/(.*)"):n===":"?(r=s.indexOf("?",1),o=s.indexOf(".",1),u.push(s.substring(1,~r?r:~o?o:s.length)),l+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(l+=(~r?"?":"")+"\\"+s.substring(o))):l+="/"+s;return{keys:u,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}function $t(t){let e,n,r;const s=[t[2]];var o=t[0];function u(l,i){let a={};if(i!==void 0&&i&4)a=ue(s,[ae(l[2])]);else for(let c=0;c<s.length;c+=1)a=ve(a,s[c]);return{props:a}}return o&&(e=le(o,u(t)),e.$on("routeEvent",t[7])),{c(){e&&A(e.$$.fragment),n=ce()},m(l,i){e&&E(e,l,i),v(l,n,i),r=!0},p(l,i){if(i&1&&o!==(o=l[0])){if(e){me();const a=e;y(a.$$.fragment,1,0,()=>{S(a,1)}),pe()}o?(e=le(o,u(l,i)),e.$on("routeEvent",l[7]),A(e.$$.fragment),w(e.$$.fragment,1),E(e,n.parentNode,n)):e=null}else if(o){const a=i&4?ue(s,[ae(l[2])]):{};e.$set(a)}},i(l){r||(e&&w(e.$$.fragment,l),r=!0)},o(l){e&&y(e.$$.fragment,l),r=!1},d(l){l&&$(n),e&&S(e,l)}}}function yt(t){let e,n,r;const s=[{params:t[1]},t[2]];var o=t[0];function u(l,i){let a={};if(i!==void 0&&i&6)a=ue(s,[i&2&&{params:l[1]},i&4&&ae(l[2])]);else for(let c=0;c<s.length;c+=1)a=ve(a,s[c]);return{props:a}}return o&&(e=le(o,u(t)),e.$on("routeEvent",t[6])),{c(){e&&A(e.$$.fragment),n=ce()},m(l,i){e&&E(e,l,i),v(l,n,i),r=!0},p(l,i){if(i&1&&o!==(o=l[0])){if(e){me();const a=e;y(a.$$.fragment,1,0,()=>{S(a,1)}),pe()}o?(e=le(o,u(l,i)),e.$on("routeEvent",l[6]),A(e.$$.fragment),w(e.$$.fragment,1),E(e,n.parentNode,n)):e=null}else if(o){const a=i&6?ue(s,[i&2&&{params:l[1]},i&4&&ae(l[2])]):{};e.$set(a)}},i(l){r||(e&&w(e.$$.fragment,l),r=!0)},o(l){e&&y(e.$$.fragment,l),r=!1},d(l){l&&$(n),e&&S(e,l)}}}function vt(t){let e,n,r,s;const o=[yt,$t],u=[];function l(i,a){return i[1]?0:1}return e=l(t),n=u[e]=o[e](t),{c(){n.c(),r=ce()},m(i,a){u[e].m(i,a),v(i,r,a),s=!0},p(i,[a]){let c=e;e=l(i),e===c?u[e].p(i,a):(me(),y(u[c],1,1,()=>{u[c]=null}),pe(),n=u[e],n?n.p(i,a):(n=u[e]=o[e](i),n.c()),w(n,1),n.m(r.parentNode,r))},i(i){s||(w(n),s=!0)},o(i){y(n),s=!1},d(i){i&&$(r),u[e].d(i)}}}function qe(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const xe=Ze(null,function(e){e(qe());const n=()=>{e(qe())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});et(xe,t=>t.location);et(xe,t=>t.querystring);const Ne=Ce(void 0);async function kt(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Xe();const e=(t.charAt(0)=="#"?"":"#")+t;try{const n={...history.state};delete n.__svelte_spa_router_scrollX,delete n.__svelte_spa_router_scrollY,window.history.replaceState(n,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Et(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function St(t,e,n){let{routes:r={}}=e,{prefix:s=""}=e,{restoreScrollState:o=!1}=e;class u{constructor(g,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!g||typeof g=="string"&&(g.length<1||g.charAt(0)!="/"&&g.charAt(0)!="*")||typeof g=="object"&&!(g instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:j,keys:R}=wt(g);this.path=g,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=j,this._keys=R}match(g){if(s){if(typeof s=="string")if(g.startsWith(s))g=g.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const D=g.match(s);if(D&&D[0])g=g.substr(D[0].length)||"/";else return null}}const b=this._pattern.exec(g);if(b===null)return null;if(this._keys===!1)return b;const j={};let R=0;for(;R<this._keys.length;){try{j[this._keys[R]]=decodeURIComponent(b[R+1]||"")||null}catch{j[this._keys[R]]=null}R++}return j}async checkConditions(g){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](g))return!1;return!0}}const l=[];r instanceof Map?r.forEach((_,g)=>{l.push(new u(g,_))}):Object.keys(r).forEach(_=>{l.push(new u(_,r[_]))});let i=null,a=null,c={};const f=pt();async function p(_,g){await Xe(),f(_,g)}let C=null,x=null;o&&(x=_=>{_.state&&(_.state.__svelte_spa_router_scrollY||_.state.__svelte_spa_router_scrollX)?C=_.state:C=null},window.addEventListener("popstate",x),dt(()=>{Et(C)}));let L=null,T=null;const M=xe.subscribe(async _=>{L=_;let g=0;for(;g<l.length;){const b=l[g].match(_.location);if(!b){g++;continue}const j={route:l[g].path,location:_.location,querystring:_.querystring,userData:l[g].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await l[g].checkConditions(j)){n(0,i=null),T=null,p("conditionsFailed",j);return}p("routeLoading",Object.assign({},j));const R=l[g].component;if(T!=R){R.loading?(n(0,i=R.loading),T=R,n(1,a=R.loadingParams),n(2,c={}),p("routeLoaded",Object.assign({},j,{component:i,name:i.name,params:a}))):(n(0,i=null),T=null);const D=await R();if(_!=L)return;n(0,i=D&&D.default||D),T=R}b&&typeof b=="object"&&Object.keys(b).length?n(1,a=b):n(1,a=null),n(2,c=l[g].props),p("routeLoaded",Object.assign({},j,{component:i,name:i.name,params:a})).then(()=>{Ne.set(a)});return}n(0,i=null),T=null,Ne.set(void 0)});mt(()=>{M(),x&&window.removeEventListener("popstate",x)});function ee(_){Le.call(this,t,_)}function se(_){Le.call(this,t,_)}return t.$$set=_=>{"routes"in _&&n(3,r=_.routes),"prefix"in _&&n(4,s=_.prefix),"restoreScrollState"in _&&n(5,o=_.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[i,a,c,r,s,o,ee,se]}class At extends P{constructor(e){super(),I(this,e,St,vt,N,{routes:3,prefix:4,restoreScrollState:5})}}const te=t=>{if(t===null||typeof t!="string")throw Error(`Invalid value: ${t}`);return t.trim()},we=t=>btoa(String.fromCharCode(...new Uint8Array(t))),$e=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)).buffer,Ct=(t,e)=>{const n=localStorage.getItem(t);if(n){const o=$e(n);return new Uint8Array(o)}const r=crypto.getRandomValues(new Uint8Array(e)),s=we(r.buffer);return localStorage.setItem(t,s),r},tt=()=>Ct("salt",12),xt=()=>crypto.getRandomValues(new Uint8Array(12)),nt=async(t,e)=>{const n=await crypto.subtle.importKey("raw",new TextEncoder().encode(t),"PBKDF2",!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:25e4,hash:"SHA-256"},n,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])},Ot=async(t,e,n)=>await crypto.subtle.encrypt({name:"AES-GCM",iv:e},t,new TextEncoder().encode(n)),Rt=async(t,e,n)=>{const r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)},jt=async(t,e)=>{const n=xt(),r=await nt(e,tt()),s=await Ot(r,n,t),o=we(s);return we(n.buffer)+"#"+o},Lt=async(t,e)=>{const[n,r]=t.split("#"),s=$e(n),o=$e(r),u=new Uint8Array(s),l=await nt(e,tt());return await Rt(l,u,o)},ye={owner:"",name:"",token:""},Oe="github-repo",Ie=async t=>{const e=localStorage.getItem(Oe);if(!e){if(t)throw new Error("Github repository data not found!");return ye}let n=JSON.parse(e);return n.token=t?await Lt(n.token,t):"",n},Tt=async(t,e)=>{const n={owner:t.owner,name:t.name,token:await jt(t.token,e)};return localStorage.setItem(Oe,JSON.stringify(n)),t},Bt=()=>{localStorage.removeItem(Oe)},qt=()=>{const t=Ce(ye);return{subscribe:t.subscribe,initRepoConfig:async()=>{t.set(await Ie())},login:async e=>{t.set(await Ie(e))},logout:()=>{t.update(e=>(e.token="",e))},saveRepoConfig:async(e,n)=>{e=await Tt(e,n),t.set(e)},reset:()=>{Bt(),t.set(ye)}}},G=qt(),rt=t=>{let e={};const n=(s,o,u)=>{e[o]="";for(const l of u){const i=l(s.get(o),s);if(i)return e[o]=i,!1}return!0};return{formErrors:e,validateForm:s=>{let o=!0;for(const u in t)n(s,u,t[u])||(o=!1);return o}}},W=()=>t=>{if(!t)return"Please enter a value!"},Nt=t=>{if(!t||typeof t.min!="number")throw new Error('Validator: "min" required numeric property!');return e=>{if(typeof e=="string"){if(e.length<t.min)return`The minumum length is: ${t.min}`}else if(typeof e=="number"&&e<t.min)return`The minumum value is: ${t.min}`}},It=t=>{if(!t||typeof t.max!="number")throw new Error('Validator: "max" required numeric property!');return e=>{if(typeof e=="string"){if(e.length>t.max)return`The maximum length is: ${t.max}`}else if(typeof e=="number"&&e>t.max)return`The maximum value is: ${t.max}`}},Pt=t=>{if(!t||!t.field||!t.msg)throw new Error('Validator: "fieldEquals" a "field" and a "msg" property!');return(e,n)=>{if(e!==n.get(t.field))return t.msg}};function Dt(t){let e,n,r,s,o,u,l,i,a;const c=t[3].default,f=ke(c,t,t[2],null);return{c(){e=h("form"),n=h("h3"),r=q(t[1]),s=k(),f&&f.c(),o=k(),u=h("button"),u.textContent="Submit",m(n,"class","text-lg pb-2 my-6 border-b"),m(u,"class","btn-base my-4"),m(u,"type","submit"),m(e,"class","bg-white p-6 rounded-sm shadow")},m(p,C){v(p,e,C),d(e,n),d(n,r),d(e,s),f&&f.m(e,null),d(e,o),d(e,u),l=!0,i||(a=Z(e,"submit",ut(function(){fe(t[0])&&t[0].apply(this,arguments)})),i=!0)},p(p,[C]){t=p,(!l||C&2)&&U(r,t[1]),f&&f.p&&(!l||C&4)&&Se(f,c,t,t[2],l?Ee(c,t[2],C,null):Ae(t[2]),null)},i(p){l||(w(f,p),l=!0)},o(p){y(f,p),l=!1},d(p){p&&$(e),f&&f.d(p),i=!1,a()}}}function Ft(t,e,n){let{$$slots:r={},$$scope:s}=e,{submit:o}=e,{label:u}=e;return t.$$set=l=>{"submit"in l&&n(0,o=l.submit),"label"in l&&n(1,u=l.label),"$$scope"in l&&n(2,s=l.$$scope)},[o,u,s,r]}class Re extends P{constructor(e){super(),I(this,e,Ft,Dt,N,{submit:0,label:1})}}function Pe(t){let e,n;return{c(){e=h("p"),n=q(t[2]),m(e,"class","text-xs text-red-600 pt-2")},m(r,s){v(r,e,s),d(e,n)},p(r,s){s&4&&U(n,r[2])},d(r){r&&$(e)}}}function Mt(t){let e,n,r,s,o,u;const l=t[4].default,i=ke(l,t,t[3],null);let a=t[2]&&Pe(t);return{c(){e=h("div"),n=h("label"),r=q(t[1]),s=k(),i&&i.c(),o=k(),a&&a.c(),m(n,"for",t[0]),m(n,"class","label-base mb-2")},m(c,f){v(c,e,f),d(e,n),d(n,r),d(e,s),i&&i.m(e,null),d(e,o),a&&a.m(e,null),u=!0},p(c,[f]){(!u||f&2)&&U(r,c[1]),(!u||f&1)&&m(n,"for",c[0]),i&&i.p&&(!u||f&8)&&Se(i,l,c,c[3],u?Ee(l,c[3],f,null):Ae(c[3]),null),c[2]?a?a.p(c,f):(a=Pe(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(c){u||(w(i,c),u=!0)},o(c){y(i,c),u=!1},d(c){c&&$(e),i&&i.d(c),a&&a.d()}}}function Ut(t,e,n){let{$$slots:r={},$$scope:s}=e,{id:o}=e,{label:u}=e,{error:l}=e;return t.$$set=i=>{"id"in i&&n(0,o=i.id),"label"in i&&n(1,u=i.label),"error"in i&&n(2,l=i.error),"$$scope"in i&&n(3,s=i.$$scope)},[o,u,l,s,r]}class st extends P{constructor(e){super(),I(this,e,Ut,Mt,N,{id:0,label:1,error:2})}}function Kt(t){let e,n,r;return{c(){e=h("input"),m(e,"id",t[2]),m(e,"name",t[2]),m(e,"class","input-base mb-2"),m(e,"type",t[4]),e.value=t[3]},m(s,o){v(s,e,o),n||(r=Z(e,"blur",t[5]),n=!0)},p(s,o){o&4&&m(e,"id",s[2]),o&4&&m(e,"name",s[2]),o&16&&m(e,"type",s[4]),o&8&&e.value!==s[3]&&(e.value=s[3])},d(s){s&&$(e),n=!1,r()}}}function Vt(t){let e,n;return e=new st({props:{id:t[2],label:t[1],error:t[0],$$slots:{default:[Kt]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(r,s){E(e,r,s),n=!0},p(r,[s]){const o={};s&4&&(o.id=r[2]),s&2&&(o.label=r[1]),s&1&&(o.error=r[0]),s&92&&(o.$$scope={dirty:s,ctx:r}),e.$set(o)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){S(e,r)}}}function Gt(t,e,n){let{label:r}=e,{id:s}=e,{value:o}=e,{type:u="text"}=e,{error:l}=e;const i=()=>{l&&n(0,l="")};return t.$$set=a=>{"label"in a&&n(1,r=a.label),"id"in a&&n(2,s=a.id),"value"in a&&n(3,o=a.value),"type"in a&&n(4,u=a.type),"error"in a&&n(0,l=a.error)},[l,r,s,o,u,i]}class K extends P{constructor(e){super(),I(this,e,Gt,Vt,N,{label:1,id:2,value:3,type:4,error:0})}}function Ht(t){let e,n,r,s,o,u;return e=new K({props:{label:"Password",id:"password",value:"",error:t[0].password,type:"password"}}),{c(){A(e.$$.fragment),n=k(),r=h("button"),r.textContent="Reset",m(r,"type","button"),m(r,"class","btn-base my-4 mr-2")},m(l,i){E(e,l,i),v(l,n,i),v(l,r,i),s=!0,o||(u=Z(r,"click",G.reset),o=!0)},p(l,i){const a={};i&1&&(a.error=l[0].password),e.$set(a)},i(l){s||(w(e.$$.fragment,l),s=!0)},o(l){y(e.$$.fragment,l),s=!1},d(l){l&&($(n),$(r)),S(e,l),o=!1,u()}}}function zt(t){let e,n,r;return n=new Re({props:{label:"Login",submit:t[1],$$slots:{default:[Ht]},$$scope:{ctx:t}}}),{c(){e=h("div"),A(n.$$.fragment),m(e,"class","w-full max-w-xs m-auto")},m(s,o){v(s,e,o),E(n,e,null),r=!0},p(s,[o]){const u={};o&17&&(u.$$scope={dirty:o,ctx:s}),n.$set(u)},i(s){r||(w(n.$$.fragment,s),r=!0)},o(s){y(n.$$.fragment,s),r=!1},d(s){s&&$(e),S(n)}}}function Yt(t,e,n){const r={password:[W()]};let{formErrors:s,validateForm:o}=rt(r);return[s,l=>{const i=new FormData(l.target);if(!o(i)){n(0,s);return}G.login(te(i.get("password")))}]}class Jt extends P{constructor(e){super(),I(this,e,Yt,zt,N,{})}}function Wt(t){let e,n,r,s,o,u,l,i,a,c;return e=new K({props:{label:"Repository Owner",id:"owner",value:Qt,error:t[0].owner,type:"text"}}),r=new K({props:{label:"Repository Name",id:"name",value:Zt,error:t[0].name,type:"text"}}),o=new K({props:{label:"Token",id:"token",value:en,error:t[0].token,type:"password"}}),l=new K({props:{label:"Password",id:"password",value:tn,error:t[0].password,type:"password"}}),a=new K({props:{label:"Confirmation",id:"confirm",value:nn,error:t[0].confirm,type:"password"}}),{c(){A(e.$$.fragment),n=k(),A(r.$$.fragment),s=k(),A(o.$$.fragment),u=k(),A(l.$$.fragment),i=k(),A(a.$$.fragment)},m(f,p){E(e,f,p),v(f,n,p),E(r,f,p),v(f,s,p),E(o,f,p),v(f,u,p),E(l,f,p),v(f,i,p),E(a,f,p),c=!0},p(f,p){const C={};p&1&&(C.error=f[0].owner),e.$set(C);const x={};p&1&&(x.error=f[0].name),r.$set(x);const L={};p&1&&(L.error=f[0].token),o.$set(L);const T={};p&1&&(T.error=f[0].password),l.$set(T);const M={};p&1&&(M.error=f[0].confirm),a.$set(M)},i(f){c||(w(e.$$.fragment,f),w(r.$$.fragment,f),w(o.$$.fragment,f),w(l.$$.fragment,f),w(a.$$.fragment,f),c=!0)},o(f){y(e.$$.fragment,f),y(r.$$.fragment,f),y(o.$$.fragment,f),y(l.$$.fragment,f),y(a.$$.fragment,f),c=!1},d(f){f&&($(n),$(s),$(u),$(i)),S(e,f),S(r,f),S(o,f),S(l,f),S(a,f)}}}function Xt(t){let e,n,r;return n=new Re({props:{label:"Login",submit:t[1],$$slots:{default:[Wt]},$$scope:{ctx:t}}}),{c(){e=h("div"),A(n.$$.fragment),m(e,"class","w-full max-w-xs m-auto")},m(s,o){v(s,e,o),E(n,e,null),r=!0},p(s,[o]){const u={};o&17&&(u.$$scope={dirty:o,ctx:s}),n.$set(u)},i(s){r||(w(n.$$.fragment,s),r=!0)},o(s){y(n.$$.fragment,s),r=!1},d(s){s&&$(e),S(n)}}}let Qt="",Zt="",en="",tn="",nn="";function rn(t,e,n){const r={owner:[W()],name:[W()],token:[W()],password:[W(),Nt({min:5}),It({max:15})],confirm:[W(),Pt({field:"password",msg:"Password do not match!"})]};let{formErrors:s,validateForm:o}=rt(r);return[s,l=>{const i=new FormData(l.target);if(!o(i)){n(0,s);return}G.saveRepoConfig({owner:te(i.get("owner")),name:te(i.get("name")),token:te(i.get("token"))},te(i.get("password"))),kt("/")}]}class sn extends P{constructor(e){super(),I(this,e,rn,Xt,N,{})}}function on(t){let e;const n=t[2].default,r=ke(n,t,t[1],null);return{c(){r&&r.c()},m(s,o){r&&r.m(s,o),e=!0},p(s,o){r&&r.p&&(!e||o&2)&&Se(r,n,s,s[1],e?Ee(n,s[1],o,null):Ae(s[1]),null)},i(s){e||(w(r,s),e=!0)},o(s){y(r,s),e=!1},d(s){r&&r.d(s)}}}function ln(t){let e,n,r,s,o,u;return o=new Jt({}),{c(){e=h("div"),n=h("div"),r=h("h1"),r.textContent="Tiny CMS",s=k(),A(o.$$.fragment),m(r,"class","text-2xl font-bold mb-6"),m(n,"class","m-auto px-16 py-20 bg-gray-50"),m(e,"class","flex h-screen")},m(l,i){v(l,e,i),d(e,n),d(n,r),d(n,s),E(o,n,null),u=!0},p:O,i(l){u||(w(o.$$.fragment,l),u=!0)},o(l){y(o.$$.fragment,l),u=!1},d(l){l&&$(e),S(o)}}}function un(t){let e,n,r,s,o,u;return o=new sn({}),{c(){e=h("div"),n=h("div"),r=h("h1"),r.textContent="Tiny CMS",s=k(),A(o.$$.fragment),m(r,"class","text-2xl font-bold mb-6"),m(n,"class","m-auto px-16 py-20 bg-gray-50"),m(e,"class","flex h-screen")},m(l,i){v(l,e,i),d(e,n),d(n,r),d(n,s),E(o,n,null),u=!0},p:O,i(l){u||(w(o.$$.fragment,l),u=!0)},o(l){y(o.$$.fragment,l),u=!1},d(l){l&&$(e),S(o)}}}function an(t){let e,n,r,s;const o=[un,ln,on],u=[];function l(i,a){return i[0].name?i[0].token?2:1:0}return e=l(t),n=u[e]=o[e](t),{c(){n.c(),r=ce()},m(i,a){u[e].m(i,a),v(i,r,a),s=!0},p(i,[a]){let c=e;e=l(i),e===c?u[e].p(i,a):(me(),y(u[c],1,1,()=>{u[c]=null}),pe(),n=u[e],n?n.p(i,a):(n=u[e]=o[e](i),n.c()),w(n,1),n.m(r.parentNode,r))},i(i){s||(w(n),s=!0)},o(i){y(n),s=!1},d(i){i&&$(r),u[e].d(i)}}}function fn(t,e,n){let r;He(t,G,u=>n(0,r=u));let{$$slots:s={},$$scope:o}=e;return ct(()=>{G.initRepoConfig()}),t.$$set=u=>{"$$scope"in u&&n(1,o=u.$$scope)},[r,o,s]}class cn extends P{constructor(e){super(),I(this,e,fn,an,N,{})}}function dn(t){let e,n,r;return{c(){e=h("textarea"),m(e,"id",t[2]),m(e,"name",t[2]),m(e,"class","input-base mb-2"),e.value=t[3]},m(s,o){v(s,e,o),n||(r=Z(e,"blur",t[4]),n=!0)},p(s,o){o&4&&m(e,"id",s[2]),o&4&&m(e,"name",s[2]),o&8&&(e.value=s[3])},d(s){s&&$(e),n=!1,r()}}}function mn(t){let e,n;return e=new st({props:{id:t[2],label:t[1],error:t[0],$$slots:{default:[dn]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(r,s){E(e,r,s),n=!0},p(r,[s]){const o={};s&4&&(o.id=r[2]),s&2&&(o.label=r[1]),s&1&&(o.error=r[0]),s&44&&(o.$$scope={dirty:s,ctx:r}),e.$set(o)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){S(e,r)}}}function pn(t,e,n){let{label:r}=e,{id:s}=e,{value:o}=e,{error:u}=e;const l=()=>{u&&n(0,u="")};return t.$$set=i=>{"label"in i&&n(1,r=i.label),"id"in i&&n(2,s=i.id),"value"in i&&n(3,o=i.value),"error"in i&&n(0,u=i.error)},[u,r,s,o,l]}class hn extends P{constructor(e){super(),I(this,e,pn,mn,N,{label:1,id:2,value:3,error:0})}}function gn(t){let e,n,r,s;return e=new K({props:{label:"Text",id:"text",value:"",error:"",type:"text"}}),r=new hn({props:{label:"Area",id:"area",value:"",error:""}}),{c(){A(e.$$.fragment),n=k(),A(r.$$.fragment)},m(o,u){E(e,o,u),v(o,n,u),E(r,o,u),s=!0},p:O,i(o){s||(w(e.$$.fragment,o),w(r.$$.fragment,o),s=!0)},o(o){y(e.$$.fragment,o),y(r.$$.fragment,o),s=!1},d(o){o&&$(n),S(e,o),S(r,o)}}}function _n(t){let e,n,r,s,o,u;return o=new Re({props:{label:"Demo",submit:t[0],$$slots:{default:[gn]},$$scope:{ctx:t}}}),{c(){e=h("div"),n=h("h1"),n.textContent="Home",r=k(),s=h("div"),A(o.$$.fragment),m(s,"class","max-w-xs m-auto")},m(l,i){v(l,e,i),d(e,n),d(e,r),d(e,s),E(o,s,null),u=!0},p(l,[i]){const a={};i&2&&(a.$$scope={dirty:i,ctx:l}),o.$set(a)},i(l){u||(w(o.$$.fragment,l),u=!0)},o(l){y(o.$$.fragment,l),u=!1},d(l){l&&$(e),S(o)}}}function bn(t){return[n=>console.log(n)]}class wn extends P{constructor(e){super(),I(this,e,bn,_n,N,{})}}const $n="https://api.github.com/graphql",yn=async(t,e)=>{try{const r={method:"POST",headers:{authorization:`bearer ${t.token}`,"Content-Type":"application/json"},body:JSON.stringify({query:`
            query Listing($owner: String!, $name: String!) {
                repository(owner: $owner, name: $name) {
                object(expression: "HEAD:") {
                    ... on Tree {
                            entries {
                                name
                                type
                                oid
                            }
                        }
                    }
                }
            }
        `,variables:{owner:t.owner,name:t.name,path:e}})},s=await fetch($n,r);if(!s.ok)return console.log(s),[];const o=await s.json();return console.log("githubGetHash:",o),o.data.repository.object.entries}catch(n){return console.log("Error",n),[]}};function De(t,e,n){const r=t.slice();return r[3]=e[n],r}function Fe(t){let e,n=ie(t[0]),r=[];for(let s=0;s<n.length;s+=1)r[s]=Me(De(t,n,s));return{c(){e=h("ul");for(let s=0;s<r.length;s+=1)r[s].c()},m(s,o){v(s,e,o);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null)},p(s,o){if(o&1){n=ie(s[0]);let u;for(u=0;u<n.length;u+=1){const l=De(s,n,u);r[u]?r[u].p(l,o):(r[u]=Me(l),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=n.length}},d(s){s&&$(e),Ye(r,s)}}}function Me(t){let e,n,r=t[3].type==="blob"?"File":"Dir",s,o,u=t[3].name+"",l,i;return{c(){e=h("li"),n=h("div"),s=q(r),o=k(),l=q(u),i=k(),m(n,"class","w-10 bg-red-200 inline-block")},m(a,c){v(a,e,c),d(e,n),d(n,s),d(e,o),d(e,l),d(e,i)},p(a,c){c&1&&r!==(r=a[3].type==="blob"?"File":"Dir")&&U(s,r),c&1&&u!==(u=a[3].name+"")&&U(l,u)},d(a){a&&$(e)}}}function vn(t){let e,n,r,s,o,u,l,i,a,c,f,p=t[1].owner+"",C,x,L,T,M=t[1].name+"",ee,se,_,g,b=t[1].token+"",j,R,D,B=t[0]&&Fe(t);return{c(){e=h("div"),n=h("h1"),n.textContent="About",r=k(),s=h("button"),s.textContent="Query",o=k(),B&&B.c(),u=k(),l=h("div"),i=h("h1"),i.textContent="Main",a=k(),c=h("p"),f=q("owner: "),C=q(p),x=k(),L=h("p"),T=q("Name: "),ee=q(M),se=k(),_=h("p"),g=q("Token: "),j=q(b),m(s,"class","btn-base"),m(l,"class","bg-slate-200")},m(F,H){v(F,e,H),d(e,n),d(e,r),d(e,s),d(e,o),B&&B.m(e,null),d(e,u),d(e,l),d(l,i),d(l,a),d(l,c),d(c,f),d(c,C),d(l,x),d(l,L),d(L,T),d(L,ee),d(l,se),d(l,_),d(_,g),d(_,j),R||(D=Z(s,"click",t[2]),R=!0)},p(F,[H]){F[0]?B?B.p(F,H):(B=Fe(F),B.c(),B.m(e,u)):B&&(B.d(1),B=null),H&2&&p!==(p=F[1].owner+"")&&U(C,p),H&2&&M!==(M=F[1].name+"")&&U(ee,M),H&2&&b!==(b=F[1].token+"")&&U(j,b)},i:O,o:O,d(F){F&&$(e),B&&B.d(),R=!1,D()}}}function kn(t,e,n){let r;He(t,G,u=>n(1,r=u));let s=[];return[s,r,async()=>{n(0,s=await yn(r,"/"))}]}class En extends P{constructor(e){super(),I(this,e,kn,vn,N,{})}}function Sn(t){let e;return{c(){e=h("div"),e.innerHTML="<h1>Not Found</h1>"},m(n,r){v(n,e,r)},p:O,i:O,o:O,d(n){n&&$(e)}}}class An extends P{constructor(e){super(),I(this,e,null,Sn,N,{})}}function Ue(t,e,n){const r=t.slice();return r[1]=e[n],r}function Ke(t){let e,n,r=t[1].label+"",s,o;return{c(){e=h("li"),n=h("a"),s=q(r),m(n,"class","hover:underline hover:text-gray-900"),m(n,"href",o=t[1].path),m(e,"class","py-2")},m(u,l){v(u,e,l),d(e,n),d(n,s)},p(u,l){l&1&&r!==(r=u[1].label+"")&&U(s,r),l&1&&o!==(o=u[1].path)&&m(n,"href",o)},d(u){u&&$(e)}}}function Cn(t){let e,n,r,s,o,u,l=ie(t[0]),i=[];for(let a=0;a<l.length;a+=1)i[a]=Ke(Ue(t,l,a));return{c(){e=h("ul");for(let a=0;a<i.length;a+=1)i[a].c();n=k(),r=h("li"),s=h("a"),s.textContent="Logout",m(s,"class","hover:underline hover:text-gray-900"),m(s,"href","#/"),m(r,"class","py-2"),m(e,"class","flex flex-col items-end py-4")},m(a,c){v(a,e,c);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);d(e,n),d(e,r),d(r,s),o||(u=Z(s,"click",G.logout),o=!0)},p(a,[c]){if(c&1){l=ie(a[0]);let f;for(f=0;f<l.length;f+=1){const p=Ue(a,l,f);i[f]?i[f].p(p,c):(i[f]=Ke(p),i[f].c(),i[f].m(e,n))}for(;f<i.length;f+=1)i[f].d(1);i.length=l.length}},i:O,o:O,d(a){a&&$(e),Ye(i,a),o=!1,u()}}}function xn(t,e,n){let{entries:r=[]}=e;return t.$$set=s=>{"entries"in s&&n(0,r=s.entries)},[r]}class On extends P{constructor(e){super(),I(this,e,xn,Cn,N,{entries:0})}}function Rn(t){let e,n,r,s,o,u,l,i,a,c;return o=new On({props:{entries:t[1]}}),a=new At({props:{routes:t[0]}}),{c(){e=h("div"),n=h("nav"),r=h("h1"),r.textContent="Tiny CMS",s=k(),A(o.$$.fragment),u=k(),l=h("div"),i=h("div"),A(a.$$.fragment),m(r,"class","text-2xl font-bold"),m(n,"class","col-span-1 text-end py-6 pr-4"),m(i,"class","w-full"),m(l,"class","col-span-4 bg-gray-50 p-8 h-screen"),m(e,"class","grid grid-cols-5")},m(f,p){v(f,e,p),d(e,n),d(n,r),d(n,s),E(o,n,null),d(e,u),d(e,l),d(l,i),E(a,i,null),c=!0},p:O,i(f){c||(w(o.$$.fragment,f),w(a.$$.fragment,f),c=!0)},o(f){y(o.$$.fragment,f),y(a.$$.fragment,f),c=!1},d(f){f&&$(e),S(o),S(a)}}}function jn(t){let e,n,r;return n=new cn({props:{$$slots:{default:[Rn]},$$scope:{ctx:t}}}),{c(){e=h("main"),A(n.$$.fragment),m(e,"class","text-gray-600 max-w-screen-xl m-auto")},m(s,o){v(s,e,o),E(n,e,null),r=!0},p(s,[o]){const u={};o&4&&(u.$$scope={dirty:o,ctx:s}),n.$set(u)},i(s){r||(w(n.$$.fragment,s),r=!0)},o(s){y(n.$$.fragment,s),r=!1},d(s){s&&$(e),S(n)}}}function Ln(t){return[{"/":wn,"/about":En,"*":An},[{label:"Home",path:"#/"},{label:"About",path:"#/about"}]]}class Tn extends P{constructor(e){super(),I(this,e,Ln,jn,N,{})}}new Tn({target:document.getElementById("app")||document.body});
