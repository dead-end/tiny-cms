var ot=Object.defineProperty;var lt=(t,e,n)=>e in t?ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var he=(t,e,n)=>(lt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function A(){}function ye(t,e){for(const n in e)t[n]=e[n];return t}function Fe(t){return t()}function Se(){return Object.create(null)}function W(t){t.forEach(Fe)}function ce(t){return typeof t=="function"}function R(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function it(t){return Object.keys(t).length===0}function qe(t,...e){if(t==null){for(const r of e)r(void 0);return A}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ie(t,e,n){t.$$.on_destroy.push(qe(e,n))}function Me(t,e,n,r){if(t){const s=Ue(t,e,n,r);return t[0](s)}}function Ue(t,e,n,r){return t[1]&&r?ye(n.ctx.slice(),t[1](r(e))):n.ctx}function Ke(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],u=Math.max(e.dirty.length,s.length);for(let l=0;l<u;l+=1)o[l]=e.dirty[l]|s[l];return o}return e.dirty|s}return e.dirty}function Ge(t,e,n,r,s,o){if(s){const u=Ue(e,n,r,o);t.p(u,s)}}function He(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function m(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function Ve(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function P(t){return document.createTextNode(t)}function k(){return P(" ")}function re(){return P("")}function se(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function ut(t){return function(e){return e.preventDefault(),t.call(this,e)}}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function at(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.data!==e&&(t.data=e)}function ft(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function ie(t,e){return new t(e)}let ne;function te(t){ne=t}function de(){if(!ne)throw new Error("Function called outside component initialization");return ne}function ct(t){de().$$.on_mount.push(t)}function dt(t){de().$$.after_update.push(t)}function mt(t){de().$$.on_destroy.push(t)}function pt(){const t=de();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=ft(e,n,{cancelable:r});return s.slice().forEach(u=>{u.call(t,o)}),!o.defaultPrevented}return!0}}function xe(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const J=[],Ae=[];let Y=[];const Ce=[],ze=Promise.resolve();let _e=!1;function Je(){_e||(_e=!0,ze.then(Ye))}function Xe(){return Je(),ze}function be(t){Y.push(t)}const ge=new Set;let V=0;function Ye(){if(V!==0)return;const t=ne;do{try{for(;V<J.length;){const e=J[V];V++,te(e),ht(e.$$)}}catch(e){throw J.length=0,V=0,e}for(te(null),J.length=0,V=0;Ae.length;)Ae.pop()();for(let e=0;e<Y.length;e+=1){const n=Y[e];ge.has(n)||(ge.add(n),n())}Y.length=0}while(J.length);for(;Ce.length;)Ce.pop()();_e=!1,ge.clear(),te(t)}function ht(t){if(t.fragment!==null){t.update(),W(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(be)}}function gt(t){const e=[],n=[];Y.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Y=e}const le=new Set;let G;function me(){G={r:0,c:[],p:G}}function pe(){G.r||W(G.c),G=G.p}function y(t,e){t&&t.i&&(le.delete(t),t.i(e))}function v(t,e,n,r){if(t&&t.o){if(le.has(t))return;le.add(t),G.c.push(()=>{le.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ae(t,e){const n={},r={},s={$$scope:1};let o=t.length;for(;o--;){const u=t[o],l=e[o];if(l){for(const a in u)a in l||(r[a]=1);for(const a in l)s[a]||(n[a]=l[a],s[a]=1);t[o]=l}else for(const a in u)s[a]=1}for(const u in r)u in n||(n[u]=void 0);return n}function fe(t){return typeof t=="object"&&t!==null?t:{}}function x(t){t&&t.c()}function E(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),be(()=>{const o=t.$$.on_mount.map(Fe).filter(ce);t.$$.on_destroy?t.$$.on_destroy.push(...o):W(o),t.$$.on_mount=[]}),s.forEach(be)}function S(t,e){const n=t.$$;n.fragment!==null&&(gt(n.after_update),W(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function _t(t,e){t.$$.dirty[0]===-1&&(J.push(t),Je(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(t,e,n,r,s,o,u=null,l=[-1]){const a=ne;te(t);const i=t.$$={fragment:null,ctx:[],props:o,update:A,not_equal:s,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Se(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};u&&u(i.root);let c=!1;if(i.ctx=n?n(t,e.props||{},(f,d,...C)=>{const O=C.length?C[0]:d;return i.ctx&&s(i.ctx[f],i.ctx[f]=O)&&(!i.skip_bound&&i.bound[f]&&i.bound[f](O),c&&_t(t,f)),d}):[],i.update(),c=!0,W(i.before_update),i.fragment=r?r(i.ctx):!1,e.target){if(e.hydrate){const f=at(e.target);i.fragment&&i.fragment.l(f),f.forEach(w)}else i.fragment&&i.fragment.c();e.intro&&y(t.$$.fragment),E(t,e.target,e.anchor),Ye()}te(a)}class F{constructor(){he(this,"$$");he(this,"$$set")}$destroy(){S(this,1),this.$destroy=A}$on(e,n){if(!ce(n))return A;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!it(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const bt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bt);const z=[];function Qe(t,e){return{subscribe:ve(t,e).subscribe}}function ve(t,e=A){let n;const r=new Set;function s(l){if(R(t,l)&&(t=l,n)){const a=!z.length;for(const i of r)i[1](),z.push(i,t);if(a){for(let i=0;i<z.length;i+=2)z[i][0](z[i+1]);z.length=0}}}function o(l){s(l(t))}function u(l,a=A){const i=[l,a];return r.add(i),r.size===1&&(n=e(s,o)||A),l(t),()=>{r.delete(i),r.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:u}}function We(t,e,n){const r=!Array.isArray(t),s=r?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return Qe(n,(u,l)=>{let a=!1;const i=[];let c=0,f=A;const d=()=>{if(c)return;f();const O=e(r?i[0]:i,u,l);o?u(O):f=ce(O)?O:A},C=s.map((O,T)=>qe(O,B=>{i[T]=B,c&=~(1<<T),a&&d()},()=>{c|=1<<T}));return a=!0,d(),function(){W(C),f(),a=!1}})}function wt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,o,u=[],l="",a=t.split("/");for(a[0]||a.shift();s=a.shift();)n=s[0],n==="*"?(u.push("wild"),l+="/(.*)"):n===":"?(r=s.indexOf("?",1),o=s.indexOf(".",1),u.push(s.substring(1,~r?r:~o?o:s.length)),l+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(l+=(~r?"?":"")+"\\"+s.substring(o))):l+="/"+s;return{keys:u,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}function $t(t){let e,n,r;const s=[t[2]];var o=t[0];function u(l,a){let i={};if(a!==void 0&&a&4)i=ae(s,[fe(l[2])]);else for(let c=0;c<s.length;c+=1)i=ye(i,s[c]);return{props:i}}return o&&(e=ie(o,u(t)),e.$on("routeEvent",t[7])),{c(){e&&x(e.$$.fragment),n=re()},m(l,a){e&&E(e,l,a),$(l,n,a),r=!0},p(l,a){if(a&1&&o!==(o=l[0])){if(e){me();const i=e;v(i.$$.fragment,1,0,()=>{S(i,1)}),pe()}o?(e=ie(o,u(l,a)),e.$on("routeEvent",l[7]),x(e.$$.fragment),y(e.$$.fragment,1),E(e,n.parentNode,n)):e=null}else if(o){const i=a&4?ae(s,[fe(l[2])]):{};e.$set(i)}},i(l){r||(e&&y(e.$$.fragment,l),r=!0)},o(l){e&&v(e.$$.fragment,l),r=!1},d(l){l&&w(n),e&&S(e,l)}}}function yt(t){let e,n,r;const s=[{params:t[1]},t[2]];var o=t[0];function u(l,a){let i={};if(a!==void 0&&a&6)i=ae(s,[a&2&&{params:l[1]},a&4&&fe(l[2])]);else for(let c=0;c<s.length;c+=1)i=ye(i,s[c]);return{props:i}}return o&&(e=ie(o,u(t)),e.$on("routeEvent",t[6])),{c(){e&&x(e.$$.fragment),n=re()},m(l,a){e&&E(e,l,a),$(l,n,a),r=!0},p(l,a){if(a&1&&o!==(o=l[0])){if(e){me();const i=e;v(i.$$.fragment,1,0,()=>{S(i,1)}),pe()}o?(e=ie(o,u(l,a)),e.$on("routeEvent",l[6]),x(e.$$.fragment),y(e.$$.fragment,1),E(e,n.parentNode,n)):e=null}else if(o){const i=a&6?ae(s,[a&2&&{params:l[1]},a&4&&fe(l[2])]):{};e.$set(i)}},i(l){r||(e&&y(e.$$.fragment,l),r=!0)},o(l){e&&v(e.$$.fragment,l),r=!1},d(l){l&&w(n),e&&S(e,l)}}}function vt(t){let e,n,r,s;const o=[yt,$t],u=[];function l(a,i){return a[1]?0:1}return e=l(t),n=u[e]=o[e](t),{c(){n.c(),r=re()},m(a,i){u[e].m(a,i),$(a,r,i),s=!0},p(a,[i]){let c=e;e=l(a),e===c?u[e].p(a,i):(me(),v(u[c],1,1,()=>{u[c]=null}),pe(),n=u[e],n?n.p(a,i):(n=u[e]=o[e](a),n.c()),y(n,1),n.m(r.parentNode,r))},i(a){s||(y(n),s=!0)},o(a){v(n),s=!1},d(a){a&&w(r),u[e].d(a)}}}function Oe(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const ke=Qe(null,function(e){e(Oe());const n=()=>{e(Oe())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});We(ke,t=>t.location);We(ke,t=>t.querystring);const je=ve(void 0);async function kt(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Xe();const e=(t.charAt(0)=="#"?"":"#")+t;try{const n={...history.state};delete n.__svelte_spa_router_scrollX,delete n.__svelte_spa_router_scrollY,window.history.replaceState(n,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Et(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function St(t,e,n){let{routes:r={}}=e,{prefix:s=""}=e,{restoreScrollState:o=!1}=e;class u{constructor(g,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!g||typeof g=="string"&&(g.length<1||g.charAt(0)!="/"&&g.charAt(0)!="*")||typeof g=="object"&&!(g instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:L,keys:j}=wt(g);this.path=g,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=L,this._keys=j}match(g){if(s){if(typeof s=="string")if(g.startsWith(s))g=g.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const q=g.match(s);if(q&&q[0])g=g.substr(q[0].length)||"/";else return null}}const b=this._pattern.exec(g);if(b===null)return null;if(this._keys===!1)return b;const L={};let j=0;for(;j<this._keys.length;){try{L[this._keys[j]]=decodeURIComponent(b[j+1]||"")||null}catch{L[this._keys[j]]=null}j++}return L}async checkConditions(g){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](g))return!1;return!0}}const l=[];r instanceof Map?r.forEach((_,g)=>{l.push(new u(g,_))}):Object.keys(r).forEach(_=>{l.push(new u(_,r[_]))});let a=null,i=null,c={};const f=pt();async function d(_,g){await Xe(),f(_,g)}let C=null,O=null;o&&(O=_=>{_.state&&(_.state.__svelte_spa_router_scrollY||_.state.__svelte_spa_router_scrollX)?C=_.state:C=null},window.addEventListener("popstate",O),dt(()=>{Et(C)}));let T=null,B=null;const M=ke.subscribe(async _=>{T=_;let g=0;for(;g<l.length;){const b=l[g].match(_.location);if(!b){g++;continue}const L={route:l[g].path,location:_.location,querystring:_.querystring,userData:l[g].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await l[g].checkConditions(L)){n(0,a=null),B=null,d("conditionsFailed",L);return}d("routeLoading",Object.assign({},L));const j=l[g].component;if(B!=j){j.loading?(n(0,a=j.loading),B=j,n(1,i=j.loadingParams),n(2,c={}),d("routeLoaded",Object.assign({},L,{component:a,name:a.name,params:i}))):(n(0,a=null),B=null);const q=await j();if(_!=T)return;n(0,a=q&&q.default||q),B=j}b&&typeof b=="object"&&Object.keys(b).length?n(1,i=b):n(1,i=null),n(2,c=l[g].props),d("routeLoaded",Object.assign({},L,{component:a,name:a.name,params:i})).then(()=>{je.set(i)});return}n(0,a=null),B=null,je.set(void 0)});mt(()=>{M(),O&&window.removeEventListener("popstate",O)});function Z(_){xe.call(this,t,_)}function oe(_){xe.call(this,t,_)}return t.$$set=_=>{"routes"in _&&n(3,r=_.routes),"prefix"in _&&n(4,s=_.prefix),"restoreScrollState"in _&&n(5,o=_.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[a,i,c,r,s,o,Z,oe]}class xt extends F{constructor(e){super(),D(this,e,St,vt,R,{routes:3,prefix:4,restoreScrollState:5})}}const ee=t=>{if(t===null||typeof t!="string")throw Error(`Invalid value: ${t}`);return t.trim()},we=t=>btoa(String.fromCharCode(...new Uint8Array(t))),$e=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)).buffer,At=(t,e)=>{const n=localStorage.getItem(t);if(n){const o=$e(n);return new Uint8Array(o)}const r=crypto.getRandomValues(new Uint8Array(e)),s=we(r.buffer);return localStorage.setItem(t,s),r},Ze=()=>At("salt",12),Ct=()=>crypto.getRandomValues(new Uint8Array(12)),et=async(t,e)=>{const n=await crypto.subtle.importKey("raw",new TextEncoder().encode(t),"PBKDF2",!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:25e4,hash:"SHA-256"},n,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])},Ot=async(t,e,n)=>await crypto.subtle.encrypt({name:"AES-GCM",iv:e},t,new TextEncoder().encode(n)),jt=async(t,e,n)=>{const r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)},Lt=async(t,e)=>{const n=Ct(),r=await et(e,Ze()),s=await Ot(r,n,t),o=we(s);return we(n.buffer)+"#"+o},Rt=async(t,e)=>{const[n,r]=t.split("#"),s=$e(n),o=$e(r),u=new Uint8Array(s),l=await et(e,Ze());return await jt(l,u,o)},tt={owner:"",name:"",token:""},Le=async t=>{const e=localStorage.getItem("github-repo");if(!e){if(t)throw new Error("Github repository data not found!");return tt}let n=JSON.parse(e);return n.token=t?await Rt(n.token,t):"",n},Tt=async(t,e)=>{const n={owner:t.owner,name:t.name,token:await Lt(t.token,e)};return localStorage.setItem("github-repo",JSON.stringify(n)),t},Bt=()=>{const t=ve(tt);return{subscribe:t.subscribe,initRepoConfig:async()=>{t.set(await Le())},login:async e=>{t.set(await Le(e))},logout:()=>{t.update(e=>(e.token="",e))},saveRepoConfig:async(e,n)=>{e=await Tt(e,n),t.set(e)}}},Q=Bt(),nt=t=>{let e={};const n=(s,o,u)=>{e[o]="";for(const l of u){const a=l(s.get(o),s);if(a)return e[o]=a,!1}return!0};return{formErrors:e,validateForm:s=>{let o=!0;for(const u in t)n(s,u,t[u])||(o=!1);return o}}},X=t=>{if(!t)return"Please enter a value!"},Nt=(t,e)=>(n,r)=>{if(n!==r.get(t))return e},Pt=t=>e=>{if(typeof e=="string"){if(t.min&&e.length<t.min)return`The minumum length is: ${t.min}`;if(t.max&&e.length>t.max)return`The maximum length is: ${t.max}`}else if(typeof e=="number"){if(t.min&&e<t.min)return`The minumum value is: ${t.min}`;if(t.max&&e>t.max)return`The maximum value is: ${t.max}`}};function Dt(t){let e,n,r,s,o,u,l,a,i;const c=t[3].default,f=Me(c,t,t[2],null);return{c(){e=h("form"),n=h("h3"),r=P(t[1]),s=k(),f&&f.c(),o=k(),u=h("button"),u.textContent="Submit",p(n,"class","text-lg pb-2 my-6 border-b"),p(u,"class","btn-base my-4"),p(u,"type","submit"),p(e,"class","bg-white p-6 rounded-sm shadow")},m(d,C){$(d,e,C),m(e,n),m(n,r),m(e,s),f&&f.m(e,null),m(e,o),m(e,u),l=!0,a||(i=se(e,"submit",ut(function(){ce(t[0])&&t[0].apply(this,arguments)})),a=!0)},p(d,[C]){t=d,(!l||C&2)&&U(r,t[1]),f&&f.p&&(!l||C&4)&&Ge(f,c,t,t[2],l?Ke(c,t[2],C,null):He(t[2]),null)},i(d){l||(y(f,d),l=!0)},o(d){v(f,d),l=!1},d(d){d&&w(e),f&&f.d(d),a=!1,i()}}}function Ft(t,e,n){let{$$slots:r={},$$scope:s}=e,{submit:o}=e,{label:u}=e;return t.$$set=l=>{"submit"in l&&n(0,o=l.submit),"label"in l&&n(1,u=l.label),"$$scope"in l&&n(2,s=l.$$scope)},[o,u,s,r]}class Ee extends F{constructor(e){super(),D(this,e,Ft,Dt,R,{submit:0,label:1})}}function Re(t){let e,n;return{c(){e=h("p"),n=P(t[0]),p(e,"class","text-xs text-red-600 pt-2")},m(r,s){$(r,e,s),m(e,n)},p(r,s){s&1&&U(n,r[0])},d(r){r&&w(e)}}}function qt(t){let e,n=t[0]&&Re(t);return{c(){n&&n.c(),e=re()},m(r,s){n&&n.m(r,s),$(r,e,s)},p(r,[s]){r[0]?n?n.p(r,s):(n=Re(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:A,o:A,d(r){r&&w(e),n&&n.d(r)}}}function It(t,e,n){let{error:r}=e;return t.$$set=s=>{"error"in s&&n(0,r=s.error)},[r]}class rt extends F{constructor(e){super(),D(this,e,It,qt,R,{error:0})}}function Mt(t){let e,n;return{c(){e=h("label"),n=P(t[1]),p(e,"for",t[0]),p(e,"class","label-base mb-2")},m(r,s){$(r,e,s),m(e,n)},p(r,[s]){s&2&&U(n,r[1]),s&1&&p(e,"for",r[0])},i:A,o:A,d(r){r&&w(e)}}}function Ut(t,e,n){let{id:r}=e,{label:s}=e;return t.$$set=o=>{"id"in o&&n(0,r=o.id),"label"in o&&n(1,s=o.label)},[r,s]}class st extends F{constructor(e){super(),D(this,e,Ut,Mt,R,{id:0,label:1})}}function Kt(t){let e,n,r,s,o,u,l,a;return e=new st({props:{id:t[2],label:t[1]}}),o=new rt({props:{error:t[0]}}),{c(){x(e.$$.fragment),n=k(),r=h("input"),s=k(),x(o.$$.fragment),p(r,"id",t[2]),p(r,"name",t[2]),p(r,"class","input-base mb-2"),p(r,"type",t[4]),r.value=t[3]},m(i,c){E(e,i,c),$(i,n,c),$(i,r,c),$(i,s,c),E(o,i,c),u=!0,l||(a=se(r,"blur",t[5]),l=!0)},p(i,[c]){const f={};c&4&&(f.id=i[2]),c&2&&(f.label=i[1]),e.$set(f),(!u||c&4)&&p(r,"id",i[2]),(!u||c&4)&&p(r,"name",i[2]),(!u||c&16)&&p(r,"type",i[4]),(!u||c&8&&r.value!==i[3])&&(r.value=i[3]);const d={};c&1&&(d.error=i[0]),o.$set(d)},i(i){u||(y(e.$$.fragment,i),y(o.$$.fragment,i),u=!0)},o(i){v(e.$$.fragment,i),v(o.$$.fragment,i),u=!1},d(i){i&&(w(n),w(r),w(s)),S(e,i),S(o,i),l=!1,a()}}}function Gt(t,e,n){let{label:r}=e,{id:s}=e,{value:o}=e,{type:u="text"}=e,{error:l}=e;const a=()=>{l&&n(0,l="")};return t.$$set=i=>{"label"in i&&n(1,r=i.label),"id"in i&&n(2,s=i.id),"value"in i&&n(3,o=i.value),"type"in i&&n(4,u=i.type),"error"in i&&n(0,l=i.error)},[l,r,s,o,u,a]}class K extends F{constructor(e){super(),D(this,e,Gt,Kt,R,{label:1,id:2,value:3,type:4,error:0})}}function Ht(t){let e,n;return e=new K({props:{label:"Password",id:"password",value:"",error:t[0].password,type:"password"}}),{c(){x(e.$$.fragment)},m(r,s){E(e,r,s),n=!0},p(r,s){const o={};s&1&&(o.error=r[0].password),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){S(e,r)}}}function Vt(t){let e,n,r;return n=new Ee({props:{label:"Login",submit:t[1],$$slots:{default:[Ht]},$$scope:{ctx:t}}}),{c(){e=h("div"),x(n.$$.fragment),p(e,"class","w-full max-w-xs m-auto")},m(s,o){$(s,e,o),E(n,e,null),r=!0},p(s,[o]){const u={};o&17&&(u.$$scope={dirty:o,ctx:s}),n.$set(u)},i(s){r||(y(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&w(e),S(n)}}}function zt(t,e,n){const r={password:[X]};let{formErrors:s,validateForm:o}=nt(r);return[s,l=>{const a=new FormData(l.target);if(!o(a)){n(0,s);return}console.log("submit"),Q.login(ee(a.get("password")))}]}class Jt extends F{constructor(e){super(),D(this,e,zt,Vt,R,{})}}function Xt(t){let e,n,r,s,o,u,l,a,i,c;return e=new K({props:{label:"Repository Owner",id:"owner",value:Qt,error:t[0].owner,type:"text"}}),r=new K({props:{label:"Repository Name",id:"name",value:Wt,error:t[0].name,type:"text"}}),o=new K({props:{label:"Token",id:"token",value:Zt,error:t[0].token,type:"password"}}),l=new K({props:{label:"Password",id:"password",value:en,error:t[0].password,type:"password"}}),i=new K({props:{label:"Confirmation",id:"confirm",value:tn,error:t[0].confirm,type:"password"}}),{c(){x(e.$$.fragment),n=k(),x(r.$$.fragment),s=k(),x(o.$$.fragment),u=k(),x(l.$$.fragment),a=k(),x(i.$$.fragment)},m(f,d){E(e,f,d),$(f,n,d),E(r,f,d),$(f,s,d),E(o,f,d),$(f,u,d),E(l,f,d),$(f,a,d),E(i,f,d),c=!0},p(f,d){const C={};d&1&&(C.error=f[0].owner),e.$set(C);const O={};d&1&&(O.error=f[0].name),r.$set(O);const T={};d&1&&(T.error=f[0].token),o.$set(T);const B={};d&1&&(B.error=f[0].password),l.$set(B);const M={};d&1&&(M.error=f[0].confirm),i.$set(M)},i(f){c||(y(e.$$.fragment,f),y(r.$$.fragment,f),y(o.$$.fragment,f),y(l.$$.fragment,f),y(i.$$.fragment,f),c=!0)},o(f){v(e.$$.fragment,f),v(r.$$.fragment,f),v(o.$$.fragment,f),v(l.$$.fragment,f),v(i.$$.fragment,f),c=!1},d(f){f&&(w(n),w(s),w(u),w(a)),S(e,f),S(r,f),S(o,f),S(l,f),S(i,f)}}}function Yt(t){let e,n,r;return n=new Ee({props:{label:"Login",submit:t[1],$$slots:{default:[Xt]},$$scope:{ctx:t}}}),{c(){e=h("div"),x(n.$$.fragment),p(e,"class","w-full max-w-xs m-auto")},m(s,o){$(s,e,o),E(n,e,null),r=!0},p(s,[o]){const u={};o&17&&(u.$$scope={dirty:o,ctx:s}),n.$set(u)},i(s){r||(y(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&w(e),S(n)}}}let Qt="",Wt="",Zt="",en="",tn="";function nn(t,e,n){const r={owner:[X],name:[X],token:[X],password:[X,Pt({min:5,max:15})],confirm:[X,Nt("password","Password do not match!")]};let{formErrors:s,validateForm:o}=nt(r);return[s,l=>{const a=new FormData(l.target);if(!o(a)){n(0,s);return}Q.saveRepoConfig({owner:ee(a.get("owner")),name:ee(a.get("name")),token:ee(a.get("token"))},ee(a.get("password"))),kt("/")}]}class rn extends F{constructor(e){super(),D(this,e,nn,Yt,R,{})}}function sn(t){let e;const n=t[2].default,r=Me(n,t,t[1],null);return{c(){r&&r.c()},m(s,o){r&&r.m(s,o),e=!0},p(s,o){r&&r.p&&(!e||o&2)&&Ge(r,n,s,s[1],e?Ke(n,s[1],o,null):He(s[1]),null)},i(s){e||(y(r,s),e=!0)},o(s){v(r,s),e=!1},d(s){r&&r.d(s)}}}function on(t){let e,n,r,s,o,u;return o=new Jt({}),{c(){e=h("div"),n=h("div"),r=h("h1"),r.textContent="Tiny CMS",s=k(),x(o.$$.fragment),p(r,"class","text-2xl font-bold mb-6"),p(n,"class","m-auto px-16 py-20 bg-gray-50"),p(e,"class","flex h-screen")},m(l,a){$(l,e,a),m(e,n),m(n,r),m(n,s),E(o,n,null),u=!0},p:A,i(l){u||(y(o.$$.fragment,l),u=!0)},o(l){v(o.$$.fragment,l),u=!1},d(l){l&&w(e),S(o)}}}function ln(t){let e,n,r,s,o,u;return o=new rn({}),{c(){e=h("div"),n=h("div"),r=h("h1"),r.textContent="Tiny CMS",s=k(),x(o.$$.fragment),p(r,"class","text-2xl font-bold mb-6"),p(n,"class","m-auto px-16 py-20 bg-gray-50"),p(e,"class","flex h-screen")},m(l,a){$(l,e,a),m(e,n),m(n,r),m(n,s),E(o,n,null),u=!0},p:A,i(l){u||(y(o.$$.fragment,l),u=!0)},o(l){v(o.$$.fragment,l),u=!1},d(l){l&&w(e),S(o)}}}function un(t){let e,n,r,s;const o=[ln,on,sn],u=[];function l(a,i){return a[0].name?a[0].token?2:1:0}return e=l(t),n=u[e]=o[e](t),{c(){n.c(),r=re()},m(a,i){u[e].m(a,i),$(a,r,i),s=!0},p(a,[i]){let c=e;e=l(a),e===c?u[e].p(a,i):(me(),v(u[c],1,1,()=>{u[c]=null}),pe(),n=u[e],n?n.p(a,i):(n=u[e]=o[e](a),n.c()),y(n,1),n.m(r.parentNode,r))},i(a){s||(y(n),s=!0)},o(a){v(n),s=!1},d(a){a&&w(r),u[e].d(a)}}}function an(t,e,n){let r;Ie(t,Q,u=>n(0,r=u));let{$$slots:s={},$$scope:o}=e;return ct(()=>{Q.initRepoConfig()}),t.$$set=u=>{"$$scope"in u&&n(1,o=u.$$scope)},[r,o,s]}class fn extends F{constructor(e){super(),D(this,e,an,un,R,{})}}function cn(t){let e,n,r,s,o,u,l,a;return e=new st({props:{id:t[2],label:t[1]}}),o=new rt({props:{error:t[0]}}),{c(){x(e.$$.fragment),n=k(),r=h("textarea"),s=k(),x(o.$$.fragment),p(r,"id",t[2]),p(r,"name",t[2]),p(r,"class","input-base mb-2"),r.value=t[3]},m(i,c){E(e,i,c),$(i,n,c),$(i,r,c),$(i,s,c),E(o,i,c),u=!0,l||(a=se(r,"blur",t[4]),l=!0)},p(i,[c]){const f={};c&4&&(f.id=i[2]),c&2&&(f.label=i[1]),e.$set(f),(!u||c&4)&&p(r,"id",i[2]),(!u||c&4)&&p(r,"name",i[2]),(!u||c&8)&&(r.value=i[3]);const d={};c&1&&(d.error=i[0]),o.$set(d)},i(i){u||(y(e.$$.fragment,i),y(o.$$.fragment,i),u=!0)},o(i){v(e.$$.fragment,i),v(o.$$.fragment,i),u=!1},d(i){i&&(w(n),w(r),w(s)),S(e,i),S(o,i),l=!1,a()}}}function dn(t,e,n){let{label:r}=e,{id:s}=e,{value:o}=e,{error:u}=e;const l=()=>{u&&n(0,u="")};return t.$$set=a=>{"label"in a&&n(1,r=a.label),"id"in a&&n(2,s=a.id),"value"in a&&n(3,o=a.value),"error"in a&&n(0,u=a.error)},[u,r,s,o,l]}class mn extends F{constructor(e){super(),D(this,e,dn,cn,R,{label:1,id:2,value:3,error:0})}}function pn(t){let e,n,r,s;return e=new K({props:{label:"Text",id:"text",value:"",error:"",type:"text"}}),r=new mn({props:{label:"Area",id:"area",value:"",error:""}}),{c(){x(e.$$.fragment),n=k(),x(r.$$.fragment)},m(o,u){E(e,o,u),$(o,n,u),E(r,o,u),s=!0},p:A,i(o){s||(y(e.$$.fragment,o),y(r.$$.fragment,o),s=!0)},o(o){v(e.$$.fragment,o),v(r.$$.fragment,o),s=!1},d(o){o&&w(n),S(e,o),S(r,o)}}}function hn(t){let e,n,r,s,o,u;return o=new Ee({props:{label:"Demo",submit:t[0],$$slots:{default:[pn]},$$scope:{ctx:t}}}),{c(){e=h("div"),n=h("h1"),n.textContent="Home",r=k(),s=h("div"),x(o.$$.fragment)},m(l,a){$(l,e,a),m(e,n),m(e,r),m(e,s),E(o,s,null),u=!0},p(l,[a]){const i={};a&2&&(i.$$scope={dirty:a,ctx:l}),o.$set(i)},i(l){u||(y(o.$$.fragment,l),u=!0)},o(l){v(o.$$.fragment,l),u=!1},d(l){l&&w(e),S(o)}}}function gn(t){return[n=>console.log(n)]}class _n extends F{constructor(e){super(),D(this,e,gn,hn,R,{})}}const bn="https://api.github.com/graphql",wn=async(t,e)=>{try{const r={method:"POST",headers:{authorization:`bearer ${t.token}`,"Content-Type":"application/json"},body:JSON.stringify({query:`
            query Listing($owner: String!, $name: String!) {
                repository(owner: $owner, name: $name) {
                object(expression: "HEAD:") {
                    ... on Tree {
                            entries {
                                name
                                type
                                oid
                            }
                        }
                    }
                }
            }
        `,variables:{owner:t.owner,name:t.name,path:e}})},s=await fetch(bn,r);if(!s.ok)return console.log(s),[];const o=await s.json();return console.log("githubGetHash:",o),o.data.repository.object.entries}catch(n){return console.log("Error",n),[]}};function Te(t,e,n){const r=t.slice();return r[3]=e[n],r}function Be(t){let e,n=ue(t[0]),r=[];for(let s=0;s<n.length;s+=1)r[s]=Ne(Te(t,n,s));return{c(){e=h("ul");for(let s=0;s<r.length;s+=1)r[s].c()},m(s,o){$(s,e,o);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null)},p(s,o){if(o&1){n=ue(s[0]);let u;for(u=0;u<n.length;u+=1){const l=Te(s,n,u);r[u]?r[u].p(l,o):(r[u]=Ne(l),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=n.length}},d(s){s&&w(e),Ve(r,s)}}}function Ne(t){let e,n,r=t[3].type==="blob"?"File":"Dir",s,o,u=t[3].name+"",l,a;return{c(){e=h("li"),n=h("div"),s=P(r),o=k(),l=P(u),a=k(),p(n,"class","w-10 bg-red-200 inline-block")},m(i,c){$(i,e,c),m(e,n),m(n,s),m(e,o),m(e,l),m(e,a)},p(i,c){c&1&&r!==(r=i[3].type==="blob"?"File":"Dir")&&U(s,r),c&1&&u!==(u=i[3].name+"")&&U(l,u)},d(i){i&&w(e)}}}function $n(t){let e,n,r,s,o,u,l,a,i,c,f,d=t[1].owner+"",C,O,T,B,M=t[1].name+"",Z,oe,_,g,b=t[1].token+"",L,j,q,N=t[0]&&Be(t);return{c(){e=h("div"),n=h("h1"),n.textContent="About",r=k(),s=h("button"),s.textContent="Query",o=k(),N&&N.c(),u=k(),l=h("div"),a=h("h1"),a.textContent="Main",i=k(),c=h("p"),f=P("owner: "),C=P(d),O=k(),T=h("p"),B=P("Name: "),Z=P(M),oe=k(),_=h("p"),g=P("Token: "),L=P(b),p(s,"class","btn-base"),p(l,"class","bg-slate-200")},m(I,H){$(I,e,H),m(e,n),m(e,r),m(e,s),m(e,o),N&&N.m(e,null),m(e,u),m(e,l),m(l,a),m(l,i),m(l,c),m(c,f),m(c,C),m(l,O),m(l,T),m(T,B),m(T,Z),m(l,oe),m(l,_),m(_,g),m(_,L),j||(q=se(s,"click",t[2]),j=!0)},p(I,[H]){I[0]?N?N.p(I,H):(N=Be(I),N.c(),N.m(e,u)):N&&(N.d(1),N=null),H&2&&d!==(d=I[1].owner+"")&&U(C,d),H&2&&M!==(M=I[1].name+"")&&U(Z,M),H&2&&b!==(b=I[1].token+"")&&U(L,b)},i:A,o:A,d(I){I&&w(e),N&&N.d(),j=!1,q()}}}function yn(t,e,n){let r;Ie(t,Q,u=>n(1,r=u));let s=[];return[s,r,async()=>{n(0,s=await wn(r,"/"))}]}class vn extends F{constructor(e){super(),D(this,e,yn,$n,R,{})}}function kn(t){let e;return{c(){e=h("div"),e.innerHTML="<h1>Not Found</h1>"},m(n,r){$(n,e,r)},p:A,i:A,o:A,d(n){n&&w(e)}}}class En extends F{constructor(e){super(),D(this,e,null,kn,R,{})}}function Pe(t,e,n){const r=t.slice();return r[1]=e[n],r}function De(t){let e,n,r=t[1].label+"",s,o;return{c(){e=h("li"),n=h("a"),s=P(r),p(n,"class","hover:underline hover:text-gray-900"),p(n,"href",o=t[1].path),p(e,"class","py-2")},m(u,l){$(u,e,l),m(e,n),m(n,s)},p(u,l){l&1&&r!==(r=u[1].label+"")&&U(s,r),l&1&&o!==(o=u[1].path)&&p(n,"href",o)},d(u){u&&w(e)}}}function Sn(t){let e,n,r,s,o,u,l=ue(t[0]),a=[];for(let i=0;i<l.length;i+=1)a[i]=De(Pe(t,l,i));return{c(){e=h("ul");for(let i=0;i<a.length;i+=1)a[i].c();n=k(),r=h("li"),s=h("a"),s.textContent="Logout",p(s,"class","hover:underline hover:text-gray-900"),p(s,"href","#/"),p(r,"class","py-2"),p(e,"class","flex flex-col items-end py-4")},m(i,c){$(i,e,c);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);m(e,n),m(e,r),m(r,s),o||(u=se(s,"click",Q.logout),o=!0)},p(i,[c]){if(c&1){l=ue(i[0]);let f;for(f=0;f<l.length;f+=1){const d=Pe(i,l,f);a[f]?a[f].p(d,c):(a[f]=De(d),a[f].c(),a[f].m(e,n))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}},i:A,o:A,d(i){i&&w(e),Ve(a,i),o=!1,u()}}}function xn(t,e,n){let{entries:r=[]}=e;return t.$$set=s=>{"entries"in s&&n(0,r=s.entries)},[r]}class An extends F{constructor(e){super(),D(this,e,xn,Sn,R,{entries:0})}}function Cn(t){let e,n,r,s,o,u,l,a,i,c;return o=new An({props:{entries:t[1]}}),i=new xt({props:{routes:t[0]}}),{c(){e=h("div"),n=h("nav"),r=h("h1"),r.textContent="Tiny CMS",s=k(),x(o.$$.fragment),u=k(),l=h("div"),a=h("div"),x(i.$$.fragment),p(r,"class","text-2xl font-bold"),p(n,"class","col-span-1 text-end py-6 pr-4"),p(a,"class","w-full max-w-xs m-auto"),p(l,"class","col-span-4 bg-gray-50 py-6 h-screen"),p(e,"class","grid grid-cols-5")},m(f,d){$(f,e,d),m(e,n),m(n,r),m(n,s),E(o,n,null),m(e,u),m(e,l),m(l,a),E(i,a,null),c=!0},p:A,i(f){c||(y(o.$$.fragment,f),y(i.$$.fragment,f),c=!0)},o(f){v(o.$$.fragment,f),v(i.$$.fragment,f),c=!1},d(f){f&&w(e),S(o),S(i)}}}function On(t){let e,n,r;return n=new fn({props:{$$slots:{default:[Cn]},$$scope:{ctx:t}}}),{c(){e=h("main"),x(n.$$.fragment),p(e,"class","text-gray-700 max-w-screen-xl m-auto")},m(s,o){$(s,e,o),E(n,e,null),r=!0},p(s,[o]){const u={};o&4&&(u.$$scope={dirty:o,ctx:s}),n.$set(u)},i(s){r||(y(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&w(e),S(n)}}}function jn(t){return[{"/":_n,"/about":vn,"*":En},[{label:"Home",path:"#/"},{label:"About",path:"#/about"}]]}class Ln extends F{constructor(e){super(),D(this,e,jn,On,R,{})}}new Ln({target:document.getElementById("app")||document.body});
